---
---

<div class="min-h-screen flex items-center justify-center py-12 px-4 sm:px-6 lg:px-8">
  <div class="max-w-md w-full space-y-8 bg-astro-card p-8 rounded-xl">
    <div>
      <div class="mx-auto h-12 w-12 flex items-center justify-center rounded-full bg-primary/10">
        <svg class="h-6 w-6 text-primary" fill="none" stroke="currentColor" viewBox="0 0 24 24">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M16 7a4 4 0 11-8 0 4 4 0 018 0zM12 14a7 7 0 00-7 7h14a7 7 0 00-7-7z"/>
        </svg>
      </div>
      <h2 class="mt-6 text-center text-3xl font-extrabold text-foreground">
        Prijavite se na svoj nalog
      </h2>
      <p class="mt-2 text-center text-sm text-muted-foreground">
        Ili
        <a href="/register" class="font-medium text-primary hover:text-primary/80">
          registrujte se za novi nalog
        </a>
      </p>
    </div>
    
    <form class="mt-8 space-y-6" id="login-form">
      <div class="space-y-4">
        <div>
          <label for="email" class="block text-sm font-medium text-foreground">Email adresa</label>
          <input
            id="email"
            name="email"
            type="email"
            required
            class="mt-1 flex h-10 w-full rounded-md border border-input bg-astro-card px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
            placeholder="vaš@email.com"
          >
        </div>
        <div>
          <label for="password" class="block text-sm font-medium text-foreground">Lozinka</label>
          <input
            id="password"
            name="password"
            type="password"
            required
            class="mt-1 flex h-10 w-full rounded-md border border-input bg-astro-card px-3 py-2 text-sm ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50"
            placeholder="Vaša lozinka"
          >
        </div>
      </div>

      <div class="flex items-center justify-end">
        <div class="text-sm">
          <a href="#" class="font-medium text-primary hover:text-primary/80">
            Zaboravili ste lozinku?
          </a>
        </div>
      </div>

      <div id="error-message" class="bg-destructive/10 border border-destructive/20 text-destructive px-4 py-3 rounded-md text-sm hidden">
      </div>

      <div>
        <button
          type="submit"
          id="submit-button"
          class="inline-flex items-center justify-center rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 bg-primary text-primary-foreground hover:bg-primary/90 h-10 px-4 py-2 w-full"
        >
          <span id="button-text">Prijavite se</span>
        </button>
      </div>

      <div class="text-center">
        <a href="/" class="text-primary hover:text-primary/80 text-sm">
          ← Nazad na početnu
        </a>
      </div>
    </form>
  </div>
</div>

<script>
  document.addEventListener('DOMContentLoaded', () => {
    const form = document.getElementById('login-form') as HTMLFormElement;
    const submitButton = document.getElementById('submit-button') as HTMLButtonElement;
    const buttonText = document.getElementById('button-text') as HTMLSpanElement;
    const errorMessage = document.getElementById('error-message') as HTMLDivElement;

    form.addEventListener('submit', async (e) => {
      e.preventDefault();
      
      // Show loading state
      submitButton.disabled = true;
      buttonText.textContent = 'Prijavljivanje...';
      errorMessage.classList.add('hidden');

      // Get form data
      const formData = new FormData(form);
      const email = formData.get('email') as string;
      const password = formData.get('password') as string;

      // Basic validation
      if (!email || !password) {
        errorMessage.textContent = 'Molimo unesite email i lozinku.';
        errorMessage.classList.remove('hidden');
        submitButton.disabled = false;
        buttonText.textContent = 'Prijavite se';
        return;
      }

      try {
        // Simulate API call
        await new Promise(resolve => setTimeout(resolve, 1000));
        
        // Simulate successful login
        console.log('Login attempt:', { email, password });
        
        // Redirect to home
        window.location.href = '/';
        
      } catch (error) {
        errorMessage.textContent = 'Greška pri prijavljivanju. Molimo pokušajte ponovo.';
        errorMessage.classList.remove('hidden');
        console.error('Login error:', error);
      } finally {
        submitButton.disabled = false;
        buttonText.textContent = 'Prijavite se';
      }
    });
  });
</script>
