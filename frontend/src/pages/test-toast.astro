---
import Layout from '../layouts/Layout.astro';
import Navbar from '../components/Navbar.astro';
---

<Layout title="Toast Test - eUprava" description="Test page for toast notifications.">
  <div class="min-h-screen flex flex-col">
    <Navbar />
    <main class="flex-1 bg-main">
      <div class="max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8">
        <div class="text-center mb-8">
          <h1 class="text-3xl font-bold text-foreground mb-4">Toast Notification Test</h1>
          <p class="text-muted-foreground">Test different types of toast notifications</p>
        </div>
        
        <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
          <div class="bg-astro-card p-6 rounded-xl silver-line">
            <h3 class="text-xl font-semibold text-card-foreground mb-4">Success Toasts</h3>
            <div class="space-y-3">
              <button id="success-basic" class="w-full bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors">
                Basic Success
              </button>
              <button id="success-long" class="w-full bg-green-500 text-white px-4 py-2 rounded-md hover:bg-green-600 transition-colors">
                Long Success Message
              </button>
            </div>
          </div>
          
          <div class="bg-astro-card p-6 rounded-xl silver-line">
            <h3 class="text-xl font-semibold text-card-foreground mb-4">Error Toasts</h3>
            <div class="space-y-3">
              <button id="error-basic" class="w-full bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors">
                Basic Error
              </button>
              <button id="error-long" class="w-full bg-red-500 text-white px-4 py-2 rounded-md hover:bg-red-600 transition-colors">
                Long Error Message
              </button>
            </div>
          </div>
          
          <div class="bg-astro-card p-6 rounded-xl silver-line">
            <h3 class="text-xl font-semibold text-card-foreground mb-4">Warning Toasts</h3>
            <div class="space-y-3">
              <button id="warning-basic" class="w-full bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors">
                Basic Warning
              </button>
              <button id="warning-long" class="w-full bg-yellow-500 text-white px-4 py-2 rounded-md hover:bg-yellow-600 transition-colors">
                Long Warning Message
              </button>
            </div>
          </div>
          
          <div class="bg-astro-card p-6 rounded-xl silver-line">
            <h3 class="text-xl font-semibold text-card-foreground mb-4">Info Toasts</h3>
            <div class="space-y-3">
              <button id="info-basic" class="w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">
                Basic Info
              </button>
              <button id="info-long" class="w-full bg-blue-500 text-white px-4 py-2 rounded-md hover:bg-blue-600 transition-colors">
                Long Info Message
              </button>
            </div>
          </div>
        </div>
        
        <div class="mt-8 text-center">
          <button id="test-all" class="bg-primary text-primary-foreground px-8 py-3 rounded-md hover:bg-primary/90 transition-colors">
            Test All Toast Types
          </button>
        </div>
      </div>
    </main>
  </div>
</Layout>

<script>
  import { toastManager } from '../lib/toast';

  document.addEventListener('DOMContentLoaded', () => {
    document.getElementById('success-basic')?.addEventListener('click', () => {
      toastManager.success('Success!', 'This is a basic success message.');
    });

    document.getElementById('success-long')?.addEventListener('click', () => {
      toastManager.success('Operation Completed', 'Your request has been processed successfully. All data has been saved and the system is now ready for the next operation.');
    });

    document.getElementById('error-basic')?.addEventListener('click', () => {
      toastManager.error('Error!', 'This is a basic error message.');
    });

    document.getElementById('error-long')?.addEventListener('click', () => {
      toastManager.error('Operation Failed', 'An unexpected error occurred while processing your request. Please check your input and try again. If the problem persists, contact support.');
    });

    document.getElementById('warning-basic')?.addEventListener('click', () => {
      toastManager.warning('Warning!', 'This is a basic warning message.');
    });

    document.getElementById('warning-long')?.addEventListener('click', () => {
      toastManager.warning('Attention Required', 'Please review your settings before proceeding. Some configurations may affect system performance and user experience.');
    });

    document.getElementById('info-basic')?.addEventListener('click', () => {
      toastManager.info('Info', 'This is a basic info message.');
    });

    document.getElementById('info-long')?.addEventListener('click', () => {
      toastManager.info('System Update', 'A new version of the application is available. Please refresh your browser to get the latest features and improvements.');
    });

    document.getElementById('test-all')?.addEventListener('click', () => {
      toastManager.success('Test Started', 'Running all toast tests...');
      
      setTimeout(() => {
        toastManager.info('Progress', 'Loading data...');
      }, 500);
      
      setTimeout(() => {
        toastManager.warning('Notice', 'Some features may be temporarily unavailable.');
      }, 1000);
      
      setTimeout(() => {
        toastManager.error('Test Error', 'This is a test error message.');
      }, 1500);
      
      setTimeout(() => {
        toastManager.success('Test Complete', 'All toast tests have been completed successfully!');
      }, 2000);
    });
  });
</script>
